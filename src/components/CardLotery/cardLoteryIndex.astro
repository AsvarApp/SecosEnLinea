---
interface Props {
  titleLotery: String,
  nameLotery:String,
}
const { titleLotery, nameLotery, subRouting='' } = Astro.props;

const response = await fetch(
`https://secosenlinea-${nameLotery}-default-rtdb.firebaseio.com/.json`
);
const lotery = await response.json();
---

<section>
  <div class="border-b-colorPrimary border-b-4 py-2">
    <h2 class="text-2xl font-bold text-white">{titleLotery}</h2>
  </div>
    <div class="flex gap-4 py-5 snap-x w-full overflow-x-auto">
  {
    lotery.slice(0,5).map((lotery: any) => (
      <article class="mx-auto shrink-0 snap-center">
      <a target="_blank" href={lotery.img} class="gap-5">
          <img
            class="rounded-2xl w-48 hover:scale-105 aspect-[9/10] transition-all object-cover cursor-pointer"
            loading='lazy'
            src={lotery.imgThumbnail}
            alt={lotery.imgAlt}
            title={lotery.sorteo}
          />
        </a>
        <footer class="flex-wrap mt-4 place-self-center">
          <h3 class="text-gray-400"><span class="text-white">Sorteo: </span>{lotery.sorteo}</h3>
          <h3 class="text-gray-400"><span class="text-white">Fecha: </span>{lotery.fecha}</h3>
          <div class="flex mt-2 justify-center">
            <a class="bg-purple-500/30 hover:bg-purple-500 transition-all rounded-2xl px-4 py-1 text-white" href={lotery.downloadImg} download>Descargar</a>
            </div>
        </footer>
      </article>
    ))
  }
  </div>
  <div class="flex justify-center my-2">
    <a href=`./${subRouting}${nameLotery}` class="bg-purple-500/30 text-white px-10 py-2 rounded-2xl hover:bg-purple-500 transition-all">Ver más resultados →</a>
  </div>
</section>
