---
interface Props{
  pageTitle:String,
  nameLotery:String
}
const {pageTitle, nameLotery} = Astro.props

const response = await fetch(
  `https://secosenlinea-${nameLotery}-default-rtdb.firebaseio.com/.json`
);
const lotery = await response.json();
import ButtonAtras from '../buttonAtras.astro';
---

<section class="h-auto m-5 mt-24 lg:mt-10">
  <ButtonAtras/>
  <header class="border-b-colorPrimary border-b-2 py-3">
    <h1 class="min-w-full text-3xl font-bold text-white">{pageTitle}</h1>
  </header>
  <article class="gap-4 my-5 m-auto">
    {
      lotery.map((lotery: any) => (
        <article class="inline-grid m-4">
          <a target="_blank" href={lotery.img} class="gap-5">
            <img loading='lazy'
              class="rounded-2xl w-56 hover:scale-105 transition-all aspect-[9/10] object-cover cursor-pointer"
              src={lotery.imgThumbnail}
              alt={lotery.imgAlt}
              title={lotery.sorteo}
            />
          </a>
          <section class="mt-4">
            <h3 class="text-white"><span class="font-bold">Sorteo: </span>{lotery.sorteo}</h3>
            <h3 class="text-white"><span class="font-bold">Fecha: </span>{lotery.fecha}</h3>
            <div class="flex mt-2 justify-center">
              <a class="bg-purple-500/30 hover:bg-purple-500 transition-all rounded-2xl px-4 py-1 text-white" href={lotery.downloadImg} download>Descargar</a>
            </div>
          </section>
        </article>
      ))
    }
    </article>
</section>